{% extends "main.html" %}
{% block title %}Anodos: Производители{% endblock %}
{% block content %}
{% if perms.catalog.change_product %}

<!-- Форма добавления нового производителя -->
<div class="row collapse">
	<div class="small-10 columns">
		<input id="new-item-name" type="text" placeholder="Имя нового производителя">
	</div>
	<div class="small-2 columns">
		<button data-do="add-item" class="postfix"><i class="fa fa-plus"><span class="hide-for-small-only">&nbsp;Добавить</span></i></button>
	</div>
</div>

<!-- Таблица со списком производителей -->
<div class="row collapse">
	<div class="small-12 columns">
		<table>
			<tr>
				<th>Наименование</th>
				<th>Статус</th>
			</tr>
			{% for item in items %}
			<tr>
				<td><a id="item-{{ item.id }}" data-do="edit-item" data-id="{{ item.id }}" data-alias="{{ item.alias }}">{{ item.name }}</a></td>
				<td>
					<div class="switch small">
						<input id="item-state-{{ item.id }}" data-id="{{ item.id }}" data-do="switch-item-state" type="checkbox"{% if item.state %} checked{% endif %}>
						<label for="item-state-{{ item.id }}"></label>
					</div>
				</td>
			</tr>
			{% endfor %}
		</table>
	</div>
</div>

<!-- Модальное окно редактирования элемента -->
<div id="EditItemModal" class="reveal-modal large" data-reveal>
	<fieldset>
		<legend>Редактировать производителя</legend>
		<input id="edit-item-id" type="hidden">
		<label>Наименование
			<input id="edit-item-name" type="text">
		</label>
		<label>Псевдоним
			<input id="edit-item-alias" type="text">
		</label>
	</fieldset>
	<button data-do="edit-item-save">Сохранить</button>
	<button data-do="edit-item-cancel" class="secondary">Отменить</button>
</div>
{% else %}
<div class="row collapse">
	<div class="small-12 columns">
		<p class="panel">Недостаточно прав для данной функциональности.</p>
	</div>
</div>
{% endif %}
{% endblock %}
{% block js-content %}
{% if perms.catalog.change_product %}
<script>
{% include "catalog/js/vendors.js" %}
</script>
{% endif %}
{% endblock %}
